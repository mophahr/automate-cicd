= CI example =

This is a generic example of a CI setup as it was used in a consulting engagement.

== Prerequisites ==

Install some libraries:

[source,bash]
-----
dnf install python2-junit_xml perl-XML-LibXML
-----

Also, your user needs to be able to ssh into localhost.

== Run tests ==

To check basic functionality, run  `./call_all_test_playbooks_without_jenkins.sh`.

== Folders ==

----
├── ansible.cfg                                 # local Ansible configuration
├── call_all_test_playbooks.sh                  #
├── call_all_test_playbooks_without_jenkins.sh  # scripts to start a test run
├── examples                                    # default folder for test run
│   ├── subdir
│   │   ├── test.junit.retry
│   │   └── test.junit.yml
│   ├── tasks
│   │   └── tasks3i.yml
│   ├── test.junit2.yml
│   └── test.junit3.yml
├── hosts                                       # inventory file
── README.adoc
└── test_matrix                                 # put your actual tests here
    ├── files
    │   └── script-configure.sh
    ├── group_vars
    │   ├── all.yml
    │   └── linux_boxen.yml
    ├── host_vars
    ├── includes
    │   └── clean_initial_state.yml
    ├── roles
    │   ├── failing-dummy-script
    │   │   └── tasks
    │   │       └── main.yml
    │   └── successful-dummy-script
    │       └── tasks
    │           └── main.yml
    ├── test.basic_function.0001.yml
    └── vars.yml
-----